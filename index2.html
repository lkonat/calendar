<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="jquery-3.1.1.min.js"></script>
    <link rel="stylesheet" href="styling2.css">
  </head>
  <body  onmousemove="mousePosition(event)" onmouseup="mouseUp(event);">
<div class="firstBox">


      <div class="main" >
        <div class="alertPanel">
          <center style="color:black; font-size:2em;">ALERT</center>
          <div id="message"></div>

        </div>
        <div class="editePanel">
          <center style="font-size:23px;">Edit</center>
          <div id="editePaneldelete">X</div>
          <table>
            <tr>
              <td><button id="cancel" type="button" name="button" style="color:red;">Cancel</button></td>
              <td><button id="save" type="button" name="button">Save</button></td>
            </tr>
          </table>
          <table>
            <tr>
              <td style="font-size:23px;">Event:</td><td><p id="eventInfo" ></p></td>
            </tr>

          </table>
          <table>


            <tr><td>Title:</td><td><input id="title" type="text" name="" value="event title"></td></tr>
            <tr>
              <td>Month:</td><td><input id="eMonth" type="text" name="" value=""></td><td id="eMonthP"></td>
            </tr>
            <tr>
              <td>Day:</td><td><input id="eDay" type="text" name="" value=""></td>
            </tr>
            <tr>
              <td>Year:</td><td><input id="eYear" type="text" name="" value=""></td>
            </tr>



          </table>
          <table>
            <tr>
              <td>Start:</td> <td class="startClass" style="position:relative;"><input id="start" type="text" name="" value=""> <div id="sDropDowns"><div class="editeDropsDown">none</div> </div></td><td>End:</td><td class="endClass" style="position:relative;"><input id="end" type="text" name="" value=""><div id="eDropDowns"><div class="editeDropsDown">none</div> </div></td>
            </tr>
          </table>
        </div>

        <div id="smallInfoScreen">

           <div id="sContent"> </div>

        </div>
        <div id="monthEventsInfoScreen">  </div>
        <div class="eventMakingPanel" id="panel" onmousedown="mouseDown(event)" onmouseup="mouseUp(event);" >
            <div class="deleteEMP">X</div>
            <div class="" style="margin-left:10px; margin-top:10px;"> <span >Even</span> | <span>reminder</span>  </div>
            <input id="myEventInput" type="text" name="" value="event" style=" margin-left:10px; width:92%; height:30px; font-size:18px;"><br> <br>
            <div id="eventDate"style="margin-left:10px;">When </div>
            <div class="timeInputs">
              <div class="hourInputs">
                From <input id="time1" type="text" name="" value="none">
               <div id="time1DropDown"><div class='dropDownsElt '>none</div></div>
              </div>
              <div class="minuteInputs">
               To <input id="time2"type="text" name="" value="none"> <br><br>
               <div id="time2DropDown"><div class='dropDownsElt '>none</div></div>
              </div>
            </div>


             <button type="button" name="button" id="buttonEdite">Edite</button>
             <button type="button" name="button" id="buttonCreate">create</button>
             <button type="button" name="button" id="buttonDelete">Delete</button>


           <div class="arrow"></div>
        </div>


        <div class="menus">
          <li style="float:left;"> <a href="#"id="today">Today</a></li>
          <li> <a href="#"  id="day">Day</a></li>
          <li ><a href="#"  id="month">Month</a></li>
          <li ><a href="#"  id="year">Year</a></li>
        </div>
        <div class="calendar">

          <div class="calendarBody" id="0" >
            <center class="monthDisplay"  id="monthDisplay0">January</center>
      <table id="ourTable" class="table0" >
        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>

      </table>
          </div>
          <div class="calendarBody" id="1" >
              <center class="monthDisplay" id="monthDisplay1">January</center>
      <table class="table1">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
     </table>
          </div>
          <div class="calendarBody" id="2">
            <center class="monthDisplay"  id="monthDisplay2">January</center>
      <table class="table2">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
</table>
          </div>
          <div class="calendarBody" id="3">
              <center class="monthDisplay" id="monthDisplay3">January</center>
      <table class="table3">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
</table>
          </div>
          <div class="calendarBody" id="4">
              <center class="monthDisplay" id="monthDisplay4">January</center>
      <table class="table4">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
</table>
          </div>
          <div class="calendarBody" id="5">
              <center class="monthDisplay" id="monthDisplay5">January</center>
      <table class="table5">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
</table>
          </div>
          <div class="calendarBody" id="6">
              <center class="monthDisplay" id="monthDisplay6">January</center>
      <table class="table6">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
</table>
          </div>
          <div class="calendarBody" id="7">
              <center class="monthDisplay" id="monthDisplay7">January</center>
      <table class="table7">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
      </table>
          </div>
          <div class="calendarBody" id="8">
            <center class="monthDisplay" id="monthDisplay8">January</center>
      <table class="table8">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
     </table>
          </div>
          <div class="calendarBody" id="9">
              <center class="monthDisplay" id="monthDisplay9">January</center>
      <table class="table9">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
      </table>
          </div>
          <div class="calendarBody" id="10">
            <center class="monthDisplay" id="monthDisplay10">January</center>
      <table class="table10">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
     </table>
          </div>
          <div class="calendarBody" id="11">
            <center class="monthDisplay" id="monthDisplay11">December</center>
      <table class="table11">

        <tr > <td class="box" id="sunday">S</td class="box"><td  class="box">M</td><td class="box">T</td><td class="box">W</td><td class="box">T</td><td class="box">F</td><td class="box">S</td></tr>
        <tr class="row1"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row2"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row3"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
        <tr class="row4"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row5"><td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td> </tr>
        <tr class="row6"> <td class="boxSunday"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td><td class="box"></td></tr>
      </table>
          </div>
        </div>

        <div class="oneMonth" >
          <table id="monthTitle" style="width:inherit;">
            <tr>
              <td><div class="previous"><button type="button" name="button" >&#10094;</button></div> </td>
              <td><center ><h1 id="titleMonth">January <br> 2017</h1></center></td>
              <td><div class="next"><button type="button" name="button"     >&#10095;</button></div></td>
            </tr>
          </table>


          <div class="aCalendarBody" id="aMonth">

      <table class="tableMonth" >

        <tr class="row0"> <td class="box1" id="sunday">S</td class="box1"><td  class="box1">M</td><td class="box1">T</td><td class="box1">W</td><td class="box1">T</td><td class="box1">F</td><td class="box1">S</td></tr>
        <tr class="row1"><td class="box1Sunday"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td> </tr>
        <tr class="row2"> <td class="box1Sunday"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td></tr>
        <tr class="row3"> <td class="box1Sunday"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td></tr>
        <tr class="row4"><td class="box1Sunday"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td></tr>
        <tr class="row5"><td class="box1Sunday"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td></tr>
        <tr class="row6"> <td class="box1Sunday"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td><td class="box1"></td></tr>
          </table>
          </div>
        </div>
        <div class="aDay" >
          <div class="daySchedule">
            <table id="dayTitles">

              <tr>
                <td><button class="aDayNavigation" id="dayBackward" >&#10094;</button></td>
                <td><center><h1 id="theDay">Wednesday</h1></center></td>
                <td><button class="aDayNavigation" id="dayForward" style="float:right;" >&#10095;</button></td>
              </tr>
            </table>

            <div class="firstCell" id="allDay" style="float:left; overflow:scroll; position:relative;"> </div>
            <div class="dayTimes">
              <div class="blank"></div>
              <div class="daysTable">
                <div class="dayBox"><div class="timeIndexs">12:00AM</div><div style="border-top:1px solid lightblue;"class="insideCell" id="1200am"></div> <div class="insideCell" id="1230am"></div></div>
                <div class="dayBox"><div class="timeIndexs">1:00AM</div> <div class="insideCell" id="100am"></div> <div class="insideCell" id="130am"></div></div>
                <div class="dayBox"> <div class="timeIndexs">2:00AM</div><div class="insideCell" id="200am"></div> <div class="insideCell" id="230am"></div></div>
                <div class="dayBox"> <div class="timeIndexs">3:00AM</div><div class="insideCell" id="300am"></div> <div class="insideCell" id="330am"></div></div>
                <div class="dayBox"><div class="timeIndexs">4:00AM</div> <div class="insideCell" id="400am"></div> <div class="insideCell" id="430am"></div></div>
                <div class="dayBox"><div class="timeIndexs">5:00AM</div> <div class="insideCell" id="500am"></div> <div class="insideCell" id="530am"></div></div>
                <div class="dayBox"><div class="timeIndexs">6:00AM</div> <div class="insideCell" id="600am"></div> <div class="insideCell" id="630am"></div></div>
                <div class="dayBox"><div class="timeIndexs">7:00AM</div> <div class="insideCell" id="700am"></div> <div class="insideCell" id="730am"></div></div>
                <div class="dayBox"><div class="timeIndexs">8:00AM</div> <div class="insideCell" id="800am"></div> <div class="insideCell" id="830am"></div></div>
                <div class="dayBox"><div class="timeIndexs">9:00AM</div> <div class="insideCell" id="900am"></div> <div class="insideCell" id="930am"></div></div>
                <div class="dayBox"><div class="timeIndexs">10:00AM</div> <div class="insideCell" id="1000am"></div> <div class="insideCell" id="1030am"></div></div>
                <div class="dayBox"><div class="timeIndexs">11:00AM</div> <div class="insideCell" id="1100am"></div> <div class="insideCell" id="1130am"></div></div>
                <div class="dayBox"><div class="timeIndexs">12:00PM</div> <div class="insideCell" id="1200pm"></div> <div class="insideCell" id="1230pm"></div></div>
                <div class="dayBox"> <div class="timeIndexs">1:00PM</div><div class="insideCell" id="100pm"></div> <div class="insideCell" id="130pm"></div></div>
                <div class="dayBox"> <div class="timeIndexs">2:00PM</div><div class="insideCell" id="200pm"></div> <div class="insideCell" id="230pm"></div></div>
                <div class="dayBox"> <div class="timeIndexs">3:00PM</div><div class="insideCell" id="300pm"></div> <div class="insideCell" id="330pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">4:00PM</div> <div class="insideCell" id="400pm"></div> <div class="insideCell" id="430pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">5:00PM</div> <div class="insideCell" id="500pm"></div> <div class="insideCell" id="530pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">6:00PM</div> <div class="insideCell" id="600pm"></div> <div class="insideCell" id="630pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">7:00PM</div> <div class="insideCell" id="700pm"></div> <div class="insideCell" id="730pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">8:00PM</div> <div class="insideCell" id="800pm"></div> <div class="insideCell" id="830pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">9:00PM</div> <div class="insideCell" id="900pm"></div> <div class="insideCell" id="930pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">10:00PM</div> <div class="insideCell" id="1000pm"></div> <div class="insideCell" id="1030pm"></div></div>
                <div class="dayBox"><div class="timeIndexs">11:00PM</div> <div class="insideCell" id="1100pm"></div> <div class="insideCell" id="1130pm"></div></div>

              </div>
            </div>

          </div>
        </div>
      </div>

</div>
    <script type="text/javascript" src="calendarDataStructure.js"> </script>
    <script type="text/javascript" src="calendar.js"> </script>
    <script type="text/javascript">
    var monthString= ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var dayString =["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
    $("body").click(function(e){
      console.log(e.target.className);
      if(e.target.className!=="meif" && e.target.className!=="eventDivsExtra" ){
        console.log(e.target.className);

        $("#monthEventsInfoScreen").hide();
      }
    });
    $(".deleteEMP").click(function(){$(".eventMakingPanel").hide();
    $("#monthEventsInfoScreen").hide();
  });
$("#myEventInput").click(function(){
  if($(this).val()==="Please enter a title"){
    $(this).val("");
  }
})
$("#day").click(function(){
  calendar.changeCurrentViewTo("day");
});
$("#year").click(function(){
  calendar.changeCurrentViewTo("year");
});
$("#month").click(function(){
  calendar.changeCurrentViewTo("month");
});
$(".previous").click(function(){
   $(".eventMakingPanel").hide();
  calendar.monthChangeCurrentMonth("-");
  initializeMonthOnHoverProperties();
});
$(".next").click(function(){
   $(".eventMakingPanel").hide();
  calendar.monthChangeCurrentMonth("+");
  initializeMonthOnHoverProperties();
});
$("#dayBackward").click(function(){
  $(".eventMakingPanel").hide();
  calendar.emptyCalendar(".aDay");
  calendar.dayChangeCurrentDay('-');
});
$("#dayForward").click(function(){
  $(".eventMakingPanel").hide();
  calendar.emptyCalendar(".aDay");
  calendar.dayChangeCurrentDay('+');
});
$("#today").click(function(){
  $(".eventMakingPanel").hide();
  if($(".oneMonth")[0].style.display !=="none"){
    calendar.showToday("month");
    initializeMonthOnHoverProperties();
  }else if ($(".aDay")[0].style.display!=="none") {
    calendar.emptyCalendar(".aDay");
    calendar.showToday("day");
    scrollToCurrentTime();
  }

});
$("#buttonDelete").click(function(){

  calendar.deleteEvent($("#myEventInput").val());
  $(".eventMakingPanel").hide();
  $("#monthEventsInfoScreen").hide();
  $(".editePanel").hide();
  $(".tableMonth").css("filter","none");
});


$("#buttonEdite").click(function(){
  $("html, body").animate({scrollTop:0}, 600);

    $(".eventMakingPanel").hide();
   $(".tableMonth").css("filter","blur(10px)");
  var targetId = calendar.getPanelTarget();
  var eltInfos = calendar.getAnEvent(targetId);
  $(".editePanel").css("top","200px");
  $(".editePanel").css("left",$("body")[0].clientWidth/4);

  $(".editePanel").show();
var d=new Date(eltInfos.attributes.year,eltInfos.attributes.month,eltInfos.attributes.day).getDay();
  if(eltInfos.attributes.startTime && eltInfos.attributes.startTime!=="none"){


    $(".editePanel #eventInfo").html( dayString[d]+" "+ monthString[eltInfos.attributes.month]+", "+eltInfos.attributes.year+"<br>"+ eltInfos.attributes.title+" set from:"+eltInfos.attributes.startTime+" to: "+eltInfos.attributes.endTime);
  }else {
    $(".editePanel #eventInfo").text(eltInfos.attributes.title+" set to start at midnigth on "+dayString[d]+" "+ monthString[eltInfos.attributes.month]+", "+eltInfos.attributes.year );
  }
  $(".editePanel #title").val(eltInfos.attributes.title);
  $(".editePanel #start").val(eltInfos.attributes.startTime?eltInfos.attributes.startTime:"none");
    $(".editePanel #end").val(eltInfos.attributes.endTime?eltInfos.attributes.endTime:"none");
    $(".editePanel #eMonth").val(eltInfos.attributes.month+1);
    $(".editePanel #eMonthP").text(monthString[eltInfos.attributes.month]);
    $(".editePanel #eDay").val(eltInfos.attributes.day);
    $(".editePanel #eYear").val(eltInfos.attributes.year);



});
$("#eMonth").change(function(){

  if(monthString[$(".editePanel #eMonth").val()-1]){
    $(".editePanel #eMonthP").text(monthString[$(".editePanel #eMonth").val()-1]);
  }else {
    $(".editePanel #eMonthP").html("<span style='color:red;'>* Invalid number!</span>");
  }
});
$(".editePanel #cancel").click(function(){
  $(".editePanel").hide();
 $(".tableMonth").css("filter","none");
  //$("html .tableMonth").animate({filter:blur(0)}, 600);
  //$(".eventMakingPanel").hide();
});
$(".editePanel #save").click(function(){
  var targetId = calendar.getPanelTarget();
  var month=false;
  var day =false;
  var year = false;
  var repetitionY=false;
  var repetitionMonthly=false;
  var repetitionDay=false;
  var starTime =$(".editePanel #start").val()==="none"?false:$(".editePanel #start").val();
  var endTime =$(".editePanel #end").val()==="none"?false:$(".editePanel #end").val();
  var num=[0,1,2,3,4,5,6,7,8,9,10,11,12];
  if(num.indexOf($(".editePanel #eMonth").val()-1)!==-1){
    month =parseInt($(".editePanel #eMonth").val()-1);
  }

  if(parseInt($(".editePanel #eYear").val())){
    year =parseInt($(".editePanel #eYear").val());
  }

  if(parseInt($(".editePanel #eDay").val())){
    var lastDay = new Date(year, month + 1, 0).getDate();
    var firstDay = new Date(year, month, 1).getDate();

    day =parseInt($(".editePanel #eDay").val());
    if(day>=firstDay && day<=lastDay){
      alert("good");
    }else {

    alert("the Month you enter will not include "+ day+ " as a day");
    day =false;
    }
  }

  if((month || month===0) && day && year){
    var success=calendar.editeEvent(targetId,$(".editePanel #title").val(),day,month,year,starTime,endTime,repetitionY,repetitionMonthly,repetitionDay);
    if(success){
      alert("Edited");
      $(".editePanel").hide();
      $(".tableMonth").css("filter","none");
      $(".eventMakingPanel").hide();

    }else {
      alert("error couldn't edit");
    }
  }else {
    alert("please enter valid data");


  }

});
$("#editePaneldelete").click(function(){
  $(".editePanel").hide();
  $(".tableMonth").css("filter","none");

});
$("#buttonCreate").click(function(){
  if($("#myEventInput").val() ==="Please enter a title" ||$("#myEventInput").val().trim().length<1){
    alert("please enter a title");
  }else{
    var value1 =$("#time1").val();

    var value2 =$("#time2").val();

    if(value1==="none"){
      value1=false;
    }
    if(value2==="none"){
      value2=false;
    }
    calendar.attachEvent($("#myEventInput").val(),value1,value2);
    $(".eventMakingPanel").hide();
    $("#monthEventsInfoScreen").hide();
  }

});
$(".aDay .daysTable").click(function(e){

  calendar.updatePanel(e,"daily");

});
$("#allDay").click(function(e){

  calendar.updatePanel(e,"daily");

});

calendar.addListener("monthEventListener",function(location,TheEvent){
//  alert(calendar.getMonthCurrents("month"));
  var eY= calendar.getMonthCurrents("year");
  var eM= calendar.getMonthCurrents("month");
  var eD= TheEvent.attributes.day;
  var sEnd =TheEvent.attributes.endTime;
  var endT=sEnd;
  var endMin;
  var endFormat="am";
  if(sEnd){
     endT = parseInt(sEnd.slice(0,sEnd.indexOf(":")));
     endMin=parseInt(sEnd.slice(sEnd.indexOf(":")+1,sEnd.indexOf(":")+3));
     endFormat=sEnd[sEnd.length-2]+sEnd[sEnd.length-1];
     if(endFormat==="pm" && endT<12){
       endT+=12;
     }else if (endFormat==="pm" && endT===12) {
       endT=0;
     }
  }else {
    endT=23;
    endMin=59;
  }
  var eH=endT;
  var eMin=endMin;
  var bColor="orange";
  //var eM= TheEvent.attributes.month;
  var ThisTitle=TheEvent.attributes.title;
  if(getDifferenceInDate("today",new Date(eY,eM,eD,eH,eMin),"millisecond")<0){
    bColor="lightgrey";
  }
   var es=calendar.getEventsAvailableIn(TheEvent.attributes.year,TheEvent.attributes.month,TheEvent.attributes.day);
   var numOfChildreenHere=$($(location)[0]).children().length;
   if(numOfChildreenHere===3){
     $(location).append("<div class='eventDivsExtra'>"+"+1 more"+" </div>");
     $($(location)[0].lastChild).click(function(e){
         $("#monthEventsInfoScreen").empty();
          for(var i =3; i<es.length; i++){
             $("#monthEventsInfoScreen").append("<div class='meif' value="+es[i].id+" style='background-color:"+bColor+"' >"+  es[i].attributes.title   +"</div>");

          }
           initializeMonthOnHoverProperties();
          $("#monthEventsInfoScreen").show();
          $("#monthEventsInfoScreen").css("top",e.currentTarget.offsetTop+20);
          $("#monthEventsInfoScreen").css("left",e.currentTarget.offsetLeft-7);

     });
   }else if (numOfChildreenHere>3) {
     $($(location)[0].lastChild).text("+"+(es.length-3)+" more");

   }
   else {

     //var anIndex=TheEvent.attributes.month+"."+TheEvent.attributes.day+"."+TheEvent.attributes.year;
     $(location).append("<div class='eventDivs' value="+TheEvent.id+" style='background-color:"+bColor+"'>"+ThisTitle+" </div>");

   }

 });


 $("#monthEventsInfoScreen").click(function(e){
   if(e.target.className==="meif"){
     calendar.updatePanel(e,"extra");
   }else {
     console.log("error avoided")
   }



 });
calendar.addListener("viewChanger",function(x){
  $("#smallInfoScreen").hide();
  $(".eventMakingPanel").hide();
  $(".aDay").hide();
  $(".oneMonth").hide();
  $(".calendar").hide();

  if(x ==="day"){

    $(".aDay").show();
    calendar.refreshDay();
    scrollToCurrentTime();

  }
  if(x ==="month"){
      $(".oneMonth").css({"width":"inherit","height":"auto","overflow":"visible"});
    $(".oneMonth").show();
    initializeMonthOnHoverProperties();
  }
  if(x ==="year"){
      $(".calendar").show();
  }
} );

function displayElegently(e){

  var parentTop= $(".calendarBody")[0].offsetTop;
  var parentLeft= $(".calendarBody")[0].offsetLeft;
  $(".oneMonth").css("position","absolute");
  $(".oneMonth").css("top",(parentTop +e.target.offsetTop)-94);
  $(".oneMonth").css("left",(parentLeft + e.target.offsetLeft)+41);
  $(".oneMonth").css("height","0px");
  $(".oneMonth").css("width","0px");
  $(".oneMonth").animate({width:1000,height:700,left:0,top:60},400,function(){
     $(".calendar").hide();
     $(".eventMakingPanel").hide();
     $(".oneMonth").css({"position":"","height":"auto","width":"inherit","top":null,"left":null,"overflow":"visible"});

  });//$("html, .dayTimes").animate({scrollTop:0}, 600,"swing");
  $(".oneMonth").show();
}

function scrollToCurrentTime(){

  var times=getTimes();
  var scrollTo;
  if(times.minute<30){
    scrollTo = (($("#"+times.hour+"00"+times.format).offset().top-$(".dayTimes").offset().top)+$(".dayTimes")[0].scrollTop)-30;
  }else {
    scrollTo = (($("#"+times.hour+"30"+times.format).offset().top-$(".dayTimes").offset().top)+$(".dayTimes")[0].scrollTop)-30;
  }
  var currentDate= new Date();
  if(calendar.getDayCurrents("day")===currentDate.getDate() && currentDate.getMonth()===calendar.getDayCurrents("month") && currentDate.getFullYear()===calendar.getDayCurrents("year")){ ///  only when it is the current day
    $("html, .dayTimes").animate({scrollTop:scrollTo}, 600,"swing");
  }else {
    $("html, .dayTimes").animate({scrollTop:1200}, 600,"swing",function(){
       setTimeout(function(){
         $("html, .dayTimes").animate({scrollTop:0}, 600,"swing");
       },1000);

    });
  }

   //alert("ddddd");
}
calendar.addListener("monthViewListeners",function(theYear,theMonth,tableId){

  var monthString= ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
  var dayString =["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
  calendar.emptyCalendar(".tableMonth");
  document.getElementById("titleMonth").innerHTML=monthString[theMonth]+"<br>"+theYear;
   var firstDay = new Date(theYear, theMonth, 1).getDay();
   var lastDay  = new Date(theYear, theMonth + 1, 0).getDate();
   var j =1;
   var start=7;
   for(var i=firstDay; i<lastDay +firstDay; i++){ //this part add values to the calendar
     $(tableId+" td")[start +i].innerHTML=j;
     $(tableId+" td")[start +i].attributes.value=j;
     var elts=calendar.getEventsAvailableIn(theYear,theMonth,j);
       $($(tableId+" td")[start +i]).addClass("months");
       for(var k =0; k<elts.length; k++){
        calendar.addMonthEvent($(tableId+" td")[start +i],elts[k]);
       }
     if( new Date().getDate()===j && theMonth===new Date().getMonth() && theYear=== new Date().getFullYear()){
            $($(tableId+" td")[start +i]).css("backgroundColor","darkgrey");
     }
       j++;
   }
  initializeMonthOnHoverProperties(); //to initialize on hover events so that they works
});
calendar.addListener("yearViewListeners",function(theYear,theMonth,tableId){
  var monthString= ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
  var dayString =["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
    calendar.emptyCalendar(tableId);
    document.getElementById("monthDisplay"+tableId.slice(6,tableId.length)).innerHTML=monthString[i=theMonth];
   var firstDay = new Date(theYear, theMonth, 1).getDay();
   var lastDay  = new Date(theYear, theMonth + 1, 0).getDate();
   var j =1;
   var start=7;
   for(var i=firstDay; i<lastDay +firstDay; i++){ //this part add values to the calendar
     $(tableId+" td")[start +i].innerHTML=j;
     $(tableId+" td")[start +i].attributes.value=j;
     var elts=calendar.getEventsAvailableIn(theYear,theMonth,j);
       $($(tableId+" td")[start +i]).addClass("years");
       for(var y=0; y<elts.length; y++){
        var thisInfo=elts[y];
        $($(tableId+" td")[start +i]).css("font-weight","bold");
        $($(tableId+" td")[start +i]).css("backgroundColor","lightgrey");
       }
     if( new Date().getDate()===j && theMonth===new Date().getMonth() && theYear=== new Date().getFullYear()){
            $($(tableId+" td")[start +i]).css("border","2px solid red");
            $($(tableId+" td")[start +i]).css("border-radius","100px");
     }
       j++;
   }
 });

 $(".calendar td").click(function(e){
  if(parseInt(e.currentTarget.attributes.value)){
    var date = new Date();
    var todayDate = date.getDate();
    var targetDay =e.currentTarget.attributes.value;
    var yr= date.getFullYear();
    var month=e.target.offsetParent.className;
    month= parseInt(month.slice(5,month.length));
    if(getDifferenceInDate("today",new Date(yr,month,targetDay),"millisecond")<0 && todayDate!==targetDay){

      alert("this day has passed, are you sure you want to set an event?");
    }


//...........
     calendar.updatePanel(e,"year");

  }
 });

 $(".calendar center").click(function(e){
  if(e.currentTarget.className==="monthDisplay"){
    var mM= e.currentTarget.id;
    mM= parseInt(mM.slice(12,mM.length));
    calendar.displayAMonth(new Date().getFullYear(),mM);
    displayElegently(e);
  }
 });


 $(".oneMonth td").click(function(e){


   if(parseInt(e.currentTarget.attributes.value)){
    calendar.updatePanel(e,"month");
   }

 });
calendar.addListener("emptyCalendar",function(tableId){
  if(tableId===".aDay"){
    $( ".insideCell").empty();
    $( "#allDay").empty();
     return;
  }
  for(var i=7; i<49;i++){

    $($(tableId+" td")[i]).empty();
    $(tableId+" td")[i].attributes.value="";
    $($(tableId+" td")[i]).css("background-color","white");
  if(tableId===".tableMonth"){ // if it is the month view only;
    $($(tableId+" td")[i]).removeClass("months");
  }else { //else this apply to the year view only;
    $($(tableId+" td")[i]).css("font-weight","normal");
    $($(tableId+" td")[i]).css("border","none");
    $($(tableId+" td")[i]).css("border-radius","30px");
  }

  }

});
 calendar.addListener("daychangeCurrentDay", function(currentYearIndex,currentMonthIndex,currentDayIndex){ //update the day view

   var monthString= ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
   var dayString =["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
   var weekDayInString= dayString[new Date(currentYearIndex, currentMonthIndex,currentDayIndex).getDay()];
   document.getElementById("theDay").innerHTML=weekDayInString+", "+monthString[currentMonthIndex]+" "+currentDayIndex+" "+currentYearIndex;
   var events =calendar.getEventsAvailableIn(currentYearIndex,currentMonthIndex,currentDayIndex);
     calendar.emptyCalendar(".aDay");
   for(var i=0; i<events.length; i++){

     calendar.addDayEvent(events[i].attributes.startTime,events[i]);
   }
 });

 calendar.addListener("panelListener", function(e,where,year,month,day,sTime,eTime){ //the event making panel listenner
   var monthString= ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
   var dayString =["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
   $("#buttonCreate").prop('disabled', false);
   if(where ==="extra"){
     if(e.target.className ==="meif"){
       var thisID=e.target.attributes.value.value;
       calendar.addPanelCurrentTarget("panelCurrentID",thisID);
       $("#buttonCreate").prop('disabled', true);
       $("#buttonEdite").prop('disabled', false);
       $("#buttonDelete").prop('disabled', false);
       var t1=calendar.getAnEvent(e.target.attributes.value.value).attributes.startTime;
       var t2=calendar.getAnEvent(e.target.attributes.value.value).attributes.endTime;
       $("#time1").val(t1?t1:"none");
       $("#time2").val(t2?t2:"none");
       $(".eventMakingPanel").show();
       $(".timeInputs").show();
       $(".arrow").css("left","-10px");
       $(".arrow").show();
       $(".eventMakingPanel").css("top",e.currentTarget.offsetTop+e.target.offsetTop-115);
       $(".eventMakingPanel").css("left",e.currentTarget.offsetLeft+e.target.offsetLeft+170);

       var thistargetDay=day;
       var thisyear=year;
       var thismonth= month;
       if(parseInt(thistargetDay) && parseInt(thisyear) && parseInt(thismonth)){
         //console.log(thistargetDay);
         var td = new Date(thisyear, thismonth, thistargetDay).getDay();
         console.log(thismonth);
         $("#myEventInput").val(e.target.innerHTML);
         document.getElementById("eventDate").innerHTML= " <span style='font-size:20px; color:darkgrey;'>when:   </span> "+dayString[td]+", "+ monthString[thismonth]+ " <span style=' '>"+thistargetDay+"</span> "+thisyear;
       }else {
         console.log("error");
         console.log(parseInt(thistargetDay), parseInt(thisyear), parseInt(thismonth))
              }
     }

     return;
   }
   else if(where==="year" || where==="month" ){

     if(e.target.localName ==="td"){
       $("#buttonEdite").prop('disabled', true);
       $("#buttonDelete").prop('disabled', true);
       $("#myEventInput").val("Please enter a title").css("color","grey");//new event
       $("#time1").val("none");
       $("#time2").val("none");

     }else{
       $("#myEventInput").val(e.target.innerHTML).css("color","black");
       $("#buttonEdite").prop('disabled', false);
       $("#buttonDelete").prop('disabled', false);
     }

     var targetDay =e.currentTarget.attributes.value;
     if(targetDay){
       var td = new Date(year, month, targetDay).getDay();
       document.getElementById("eventDate").innerHTML= " <span style='font-size:20px; color:darkgrey;'>when:   </span> "+dayString[td]+", "+ monthString[month]+ " <span style=' '>"+targetDay+"</span> "+year;
       $(".arrow").show();

         if(where==="year" ){
           $("#time1").val("none");
           $("#time2").val("none");
           $(".eventMakingPanel").show();
           $(".timeInputs").show();
           var parentTop= $("#"+e.currentTarget.offsetParent.className.slice(5,e.currentTarget.offsetParent.className.length)+".calendarBody")[0].offsetTop;
           var parentLeft= $("#"+e.currentTarget.offsetParent.className.slice(5,e.currentTarget.offsetParent.className.length)+".calendarBody")[0].offsetLeft;
           $(".eventMakingPanel").css("top",(parentTop +e.target.offsetTop)-94);
           $(".eventMakingPanel").css("left",(parentLeft + e.target.offsetLeft)+41);
         }else if (where ==="month") {

           if(e.target.className==="eventDivsExtra"){ //do not show eventMakingPanel
            // console.log("hhhhhheee");

             $(".eventMakingPanel").hide();

           }else {
             $(".eventMakingPanel").show();
             if(e.target.localName!=="td"){
               var t1=calendar.getAnEvent(e.target.attributes.value.value).attributes.startTime;
               var t2=calendar.getAnEvent(e.target.attributes.value.value).attributes.endTime;
               $("#time1").val(t1? t1:"none");
               $("#time2").val(t2? t2:"none");
             }else {
               $("#time1").val("none");
               $("#time2").val("none");
             }

             calendar.addPanelCurrentTarget("panelCurrentID",e.target.attributes.value.value);
             $(".timeInputs").show();
             var limitX = $("body")[0].clientWidth;
             var limitY = $("body")[0].clientHeight;
             var xp=e.clientX;
             var yp=e.clientY;

             if(xp+350 > limitX){ //this part adapts the eventMakingPanel to the screen width, so if the window size is small and hide the eventMakingPanel, it adapts its position accordingly

                $(".eventMakingPanel").css("top",e.currentTarget.offsetTop+70);
                $(".eventMakingPanel").css("left",e.currentTarget.offsetLeft-300);
                $(".arrow").css("left","260px");

             }else {

               if(e.target.className==="eventDivs"){
                 $(".arrow").css("left","-10px");
                 $(".eventMakingPanel").css("top",e.currentTarget.offsetTop+e.target.offsetTop+70);
                 $(".eventMakingPanel").css("left",e.currentTarget.offsetLeft+e.target.offsetLeft+157);
               }else {
                 $(".arrow").css("left","-10px");
                 $(".eventMakingPanel").css("top",e.currentTarget.offsetTop+70);
                 $(".eventMakingPanel").css("left",e.currentTarget.offsetLeft+165);
               }

             }
           }

         }
    }

   }
   else if (where ==='day') {
     console.log(e.target.className);
     if(e.target.className ==="insideCell" || e.target.className ==="daysEventDivs" || e.target.className==="allDayDivs"){
       //calendar.addPanelCurrentTarget(e);
       $("#myEventInput").val("Please enter a title").css("color","grey");//new event
       $(".eventMakingPanel").show();
       $(".timeInputs").show();
       $(".arrow").hide();

       if(e.target.className ==="insideCell"){ //this means that there is not elemnt in this div
         $("#buttonEdite").prop('disabled', true); //disbale the buttons to prevent the deleting of the table itself
         $("#buttonDelete").prop('disabled', true);
         var tId=e.target.id;
         tId =tId.slice(0,tId.length-4)+":" +tId.slice(tId.length-4, tId.length);
         $("#time1").val(tId); //iam using hour as an id here
         $("#time2").val("none");
       }else if(e.target.className ==="daysEventDivs"){
         var tId=e.target.offsetParent.id;
         tId =tId.slice(0,tId.length-4)+":" +tId.slice(tId.length-4, tId.length);
         $("#myEventInput").val(e.target.innerHTML);//the title of the event
         var t1=calendar.getAnEvent(e.target.attributes.value.value).attributes.startTime;
         var t2=calendar.getAnEvent(e.target.attributes.value.value).attributes.endTime;
         $("#time1").val(t1?t1:"none");
         $("#time2").val(t2?t2:"none");
         calendar.addPanelCurrentTarget("panelCurrentID",e.target.attributes.value.value);
         $("#buttonEdite").prop('disabled', false);
         $("#buttonDelete").prop('disabled', false);
       }else if (e.target.className==="allDayDivs") {
         $("#myEventInput").val(e.target.innerHTML);//the title of the event
         var t1=calendar.getAnEvent(e.target.attributes.value.value).attributes.startTime;
         var t2=calendar.getAnEvent(e.target.attributes.value.value).attributes.endTime;
         $("#time1").val(t1?t1:"none");
         $("#time2").val(t2?t2:"none");
         calendar.addPanelCurrentTarget("panelCurrentID",e.target.attributes.value.value);
         $("#buttonEdite").prop('disabled', false);
         $("#buttonDelete").prop('disabled', false);
       }
       var td = new Date(year, month, day).getDay();
       document.getElementById("eventDate").innerHTML= " <span style='font-size:20px; color:darkgrey;'>when:   </span> "+dayString[td]+", "+monthString[month]+ " <span style=' '>"+day+"</span> "+year;
       var xp=((e.currentTarget.clientWidth)/2) -($("#panel")[0].clientWidth/2);
       var yp=e.clientY +document.body.scrollTop;
       $(".eventMakingPanel").css("top",yp);
       $(".eventMakingPanel").css("left",xp);
     }
     }
 });
 // this part hanle the movement of the panel as you're moving it around...........................
 function mousePosition(e){
   if(MouseIsDownOnPanel){ //mouse is down on event handler panel
     var mousePositionx=e.clientX;
     var mousePositiony=e.clientY;
     $("#panel").css("top",mousePositiony-$('.main').offset().top-ymp);//10 ymp
     $("#panel").css("left",mousePositionx-$('.main').offset().left-xmp);//220 xmp
     $(".arrow").hide();

   }
 }
 var MouseIsDownOnPanel =false;
 var xmp; //x mouse position
 var ymp; // y mouse position
 function mouseDown(e){ //mousedown on event handler panel function
   if(e.target.localName ==="input"){

   }else {
     $(".eventMakingPanel").css("transition","none"); //to make the transition go away while we are mouving the panel around
       MouseIsDownOnPanel=true;
       xmp=e.clientX - $('#panel').offset().left;
       ymp=e.clientY - $('#panel').offset().top;
   }

 }
 function mouseUp(){
   MouseIsDownOnPanel=false;
   //$(".eventMakingPanel").css("transition","1s ease");
 }

function initializeDropdowns(dropA,dropB,targetA,targetB,classUsedForDropDowns){ // this part initialize the dropdowns values in the event making panel
  var c=1;
  var amPm="am";
  for(var i =1; i<=24; i++){

    $(dropA).append("<div class='"+classUsedForDropDowns+"' >"+c+":00"+amPm+"</div>");


    $(dropB).append("<div class='"+classUsedForDropDowns+"' >"+c+":00"+amPm+"</div>");

    c++;
    if(c===12){
      if(amPm ==="am"){
        amPm="pm";
      }else {
        amPm ="am";
      }

    }
    if(c===13){
      c=1;
    }
  }
  $(dropA).click(function(e){$(targetA).val(e.target.innerHTML);});
  $(dropB).click(function(e){$(targetB).val(e.target.innerHTML);});



}
initializeDropdowns("#time1DropDown","#time2DropDown","#time1","#time2","dropDownsElt");
initializeDropdowns("#sDropDowns","#eDropDowns","#start","#end","editeDropsDown");

 //.......................................................

 $(".calendar td").hover(function(e){



   if($(".eventMakingPanel")[0].style.display==="block"){
     return;
   }
   if($(this).css("border-radius")==="100px" && $(this).css("font-weight")==="bold"){
     var thisExactMonth =parseInt(e.currentTarget.offsetParent.className.slice(5,e.currentTarget.offsetParent.className.length));
     var thisExactDay=e.currentTarget.attributes.value;
     var es=calendar.getEventsAvailableIn(calendar.getYearCurrents("year"),thisExactMonth,thisExactDay);
     $(".calendar td").css("filter","blur(5px)").filter(e.target).css("filter","blur(0px)"); //filter: brightness(1);
     ///.................................
     var parentTop= $("#"+thisExactMonth+".calendarBody")[0].offsetTop;
     var parentLeft= $("#"+thisExactMonth+".calendarBody")[0].offsetLeft;
     $("#smallInfoScreen").css("top",(parentTop +e.target.offsetTop)-0);
     $("#smallInfoScreen").css("left",(parentLeft + e.target.offsetLeft)+25);
     document.getElementById("sContent").innerHTML="Today"+"<br>";
     for(var z =0; z<es.length; z++){
       document.getElementById("sContent").innerHTML+=(z+1)+"- "+es[z].attributes.title+"<br>";
     }
     $("#smallInfoScreen").show();
   }
   else if($(this).css("border-radius")==="100px"){//today

     var thisExactMonth =parseInt(e.currentTarget.offsetParent.className.slice(5,e.currentTarget.offsetParent.className.length));
     var thisExactDay=e.currentTarget.attributes.value;
     var es=calendar.getEventsAvailableIn(calendar.getYearCurrents("year"),thisExactMonth,thisExactDay);
     $(".calendar td").css("filter","blur(5px)").filter(e.target).css("filter","blur(0px)"); //filter: brightness(1);
     ///.................................
     var parentTop= $("#"+thisExactMonth+".calendarBody")[0].offsetTop;
     var parentLeft= $("#"+thisExactMonth+".calendarBody")[0].offsetLeft;
     $("#smallInfoScreen").css("top",(parentTop +e.target.offsetTop)-0);
     $("#smallInfoScreen").css("left",(parentLeft + e.target.offsetLeft)+25);
     document.getElementById("sContent").innerHTML="Today";
     $("#smallInfoScreen").show();
   }

   else if($(this).css("font-weight")==="bold"){

     var thisExactMonth =parseInt(e.currentTarget.offsetParent.className.slice(5,e.currentTarget.offsetParent.className.length));
     var thisExactDay=e.currentTarget.attributes.value;
     var es=calendar.getEventsAvailableIn(calendar.getYearCurrents("year"),thisExactMonth,thisExactDay);
     $(".calendar td").css("filter","blur(5px)").filter(e.target).css("filter","blur(0px)"); //filter: brightness(1);
     ///.................................
     var parentTop= $("#"+thisExactMonth+".calendarBody")[0].offsetTop;
     var parentLeft= $("#"+thisExactMonth+".calendarBody")[0].offsetLeft;
     $("#smallInfoScreen").css("top",(parentTop +e.target.offsetTop)-0);
     $("#smallInfoScreen").css("left",(parentLeft + e.target.offsetLeft)+25);
     document.getElementById("sContent").innerHTML="";
     for(var z =0; z<es.length; z++){
       document.getElementById("sContent").innerHTML+=(z+1)+"- "+es[z].attributes.title+"<br>";
     }
     $("#smallInfoScreen").show();
   }

},
 function (){
    $("#smallInfoScreen").hide();
    if($(".calendar  td").css("filter")!=="none"){

      $(".calendar  td").css("filter","none");//.filter(e.target).css("filter","blur(0px)");
    }

}

);




//...........

function getTimes() {

        var mynowDate = new Date();
        var myHour = mynowDate.getHours();
        var myMin  = mynowDate.getMinutes();
        var mySec  = mynowDate.getSeconds();
        var newhour = myHour;
        var theformat = "am";
        if(myHour === 12) { newhour = "12"; theformat ="pm";}
        if(myHour === 13) { newhour = "1"; theformat ="pm";}
        if(myHour === 14) { newhour = "2"; theformat ="pm";}
        if(myHour === 15) { newhour = "3"; theformat ="pm";}
        if(myHour === 16) { newhour = "4"; theformat ="pm";}
        if(myHour === 17) { newhour = "5"; theformat ="pm";}
        if(myHour === 18) { newhour = "6"; theformat ="pm";}
        if(myHour === 19) { newhour = "7"; theformat ="pm";}
        if(myHour === 20) { newhour = "8"; theformat ="pm";}
        if(myHour === 21) { newhour = "9"; theformat ="pm";}
        if(myHour === 22) { newhour = "10"; theformat ="pm";}
        if(myHour === 23) { newhour = "11"; theformat ="pm";}
        if(myHour === 0) { newhour = "12"; theformat ="am";}
         return {hour:newhour, minute:myMin, format:theformat, second:mySec};
      }
      function drawLineDayTime(){
        var currentDate= new Date();
        if(calendar.getDayCurrents("day")===currentDate.getDate() && currentDate.getMonth()===calendar.getDayCurrents("month") && currentDate.getFullYear()===calendar.getDayCurrents("year")){ /// draw a red line only when it is the current day
          if(  $(".timeLine").length!==0){
            $(".timeLine").remove();
          }
          var times=getTimes();
          var min = times.minute;
          var targetedId;
          var rightNow= times.hour+":"+times.minute+" "+times.second+" "+times.format.toUpperCase();
          if(min <30){
            targetedId =$("#"+times.hour+"00"+times.format);
              $(targetedId).append("<div class='timeLine' style='position:absolute; top:"+min+"px;'><div class='bullet'></div><div class='bulletTimeDisplay'>"+rightNow+"</div></div>");
          }else {
              targetedId =$("#"+times.hour+"30"+times.format);
              var m=min-30;
                $(targetedId).append("<div class='timeLine' style='position:absolute; top:"+m+"px;'><div class='bullet'></div><div class='bulletTimeDisplay'>"+rightNow+"</div></div>");
          }

        }
      }
  setInterval(function(){
  drawLineDayTime();
  },1000);
calendar.addListener("dayEventListener",function addEventToDaysDiv(id,theEvent){ //id looks like 12:30am ..etc
  var eventId= theEvent.id;
  var eventTitle=theEvent.attributes.title;
  var eventEndTime=theEvent.attributes.endTime;
  var startingTime=theEvent.attributes.startTime;
  var endingTime =theEvent.attributes.endTime;
  if(!endingTime){
    endingTime="unknow";
  }
  var h =25;//height od the day event divs
  var eventStartTime = id;
  if(id==="allDay"|| !id){ //this means that no time was specified

    if($("#allDay").children().length>0){ //if the target time have any child or event //.style!==undefined

      var lastchildPositionX=$($("#allDay"))[0].lastChild.style.left; // get its last child position
      var thisPosition =parseInt(lastchildPositionX)+105;
      $("#allDay").append("<div class='allDayDivs' style='left:"+thisPosition+"px;' value="+eventId+">"+eventTitle+" </div>");
    }else {
        $("#allDay").append("<div class='allDayDivs' style='left:0px;' value="+eventId+">"+eventTitle+" </div>");
    }
    return;
  }

  var index =id.indexOf(":");

  if(index!==-1){
    id =id.slice(0,index)+id.slice(index+1,id.length);

  }else {
   //id still the same
  }

  if($("#"+id).children().length>0){ //if the target time have any child or event

    var lastchildPositionX=$($("#"+id))[0].lastChild.style.left; // get its last child position
    var thisPosition =parseInt(lastchildPositionX)+105;

    if(eventEndTime){
      var thisEID=eventEndTime.slice(0,eventEndTime.indexOf(":"))+eventEndTime.slice(eventEndTime.indexOf(":")+1,eventEndTime.length);
        var dif=$("#"+thisEID).offset().top-$("#"+id).offset().top;
        if(dif<=0){
          dif=$("#1130pm").offset().top-$("#"+id).offset().top;
          h=dif+25;
        }else {
          h=dif-5;
        }
        //...........................................
        var eY= calendar.getDayCurrents("year");
        var eM= calendar.getDayCurrents("month");
        var eD= calendar.getDayCurrents("day");
        var sEnd =eventEndTime;
        var endT=sEnd;
        var endMin;
        var endFormat="am";
        if(sEnd){
           endT = parseInt(sEnd.slice(0,sEnd.indexOf(":")));
           endMin=parseInt(sEnd.slice(sEnd.indexOf(":")+1,sEnd.indexOf(":")+3));
           endFormat=sEnd[sEnd.length-2]+sEnd[sEnd.length-1];
           if(endFormat==="pm" && endT<12){
             endT+=12;
           }else if (endFormat==="pm" && endT===12) {
             endT=0;
           }
        }else {
          endT=23;
          endMin=59;
        }
        var eH=endT;
        var eMin=endMin;
        var bColor="lavender";
        if(getDifferenceInDate("today",new Date(eY,eM,eD,eH,eMin),"millisecond")<0){
          bColor="lightgrey";
        }
        ///..........................................

    }else {
      //alert("no ending time ");
    }
    $("#"+id).append("<div class='daysEventDivs' style='background-color:"+bColor+";left:"+thisPosition+"px; height:"+h+"px; ' value="+eventId+">"+eventTitle+", "+startingTime+"-"+endingTime+" </div>");


  }else {



      if(eventEndTime){
        var thisEID=eventEndTime.slice(0,eventEndTime.indexOf(":"))+eventEndTime.slice(eventEndTime.indexOf(":")+1,eventEndTime.length);
          var dif=$("#"+thisEID).offset().top-$("#"+id).offset().top;
          if(dif<=0){
            dif=$("#1130pm").offset().top-$("#"+id).offset().top;
            h=dif+25;
          }else {
            h=dif-5;
          }
          //...........................................
          var eY= calendar.getDayCurrents("year");
          var eM= calendar.getDayCurrents("month");
          var eD= calendar.getDayCurrents("day");
          var sEnd =eventEndTime;
          var endT=sEnd;
          var endMin;
          var endFormat="am";
          if(sEnd){
             endT = parseInt(sEnd.slice(0,sEnd.indexOf(":")));
             endMin=parseInt(sEnd.slice(sEnd.indexOf(":")+1,sEnd.indexOf(":")+3));
             endFormat=sEnd[sEnd.length-2]+sEnd[sEnd.length-1];
             if(endFormat==="pm" && endT<12){
               endT+=12;
             }else if (endFormat==="pm" && endT===12) {
               endT=0;
             }
          }else {
            endT=23;
            endMin=59;
          }
          var eH=endT;
          var eMin=endMin;
          var bColor="lavender";
          if(getDifferenceInDate("today",new Date(eY,eM,eD,eH,eMin),"millisecond")<0){
            bColor="lightgrey";
          }



          ///..........................................



      }else {
        //alert("no ending time ");
      }
      $("#"+id).append("<div class='daysEventDivs' style='background-color:"+bColor+";left:0px; height:"+h+"px; ' value="+eventId+">"+eventTitle+", "+startingTime+"-"+endingTime+" </div>");
  }
}
);
function initializeMonthOnHoverProperties(){

  $(".tableMonth div").hover(function(e){
    if($(".eventMakingPanel")[0].style.display==="block"){
      return;
    }
    if(e.target.className==="eventDivs"  ){

      var thisId=e.target.attributes.value.value;
      var thisEvent =calendar.getAnEvent(thisId);
      $("#smallInfoScreen").css("top",(e.target.offsetParent.offsetTop +e.target.offsetTop)+180);
      $("#smallInfoScreen").css("left",(e.target.offsetParent.offsetLeft+ e.target.offsetLeft)+150);
      var time =thisEvent.attributes.startTime ;
      if(!time){
        time =" Starting at Midnight"
      }else {
        time =" At "+time;
      }
      document.getElementById("sContent").innerHTML=thisEvent.attributes.title+time;

      $("#smallInfoScreen").show();
    }
    else if (e.target.className==="eventDivsExtra") {
      if($("#monthEventsInfoScreen")[0].style.display==="block"){
         return;
      }
      $("#smallInfoScreen").css("top",(e.target.offsetTop)-5);
      $("#smallInfoScreen").css("left",(e.target.offsetLeft)+100);
      document.getElementById("sContent").innerHTML="click to display more";
      $("#smallInfoScreen").show();
    }else {
      $("#smallInfoScreen").hide();
    }


  },function (){
     $("#smallInfoScreen").hide();
     //$(".calendar  td").css("filter","blur(0px)");//.filter(e.target).css("filter","blur(0px)");
  }

  );

  $(".meif ").hover(function(e){
    if($(".eventMakingPanel")[0].style.display==="block"){
      return;
    }
    //console.log(e.currentTarget.attributes.value.value);
    if(e.currentTarget.className==="meif"  ){

      var thisId=e.currentTarget.attributes.value.value;
      var thisEvent =calendar.getAnEvent(thisId);
      $("#smallInfoScreen").css("top",(e.currentTarget.offsetParent.offsetTop +e.currentTarget.offsetTop));
      $("#smallInfoScreen").css("left",(e.currentTarget.offsetParent.offsetLeft+ e.currentTarget.offsetLeft)+150);
      var time =thisEvent.attributes.startTime ;
      if(!time){
        time =" Starting at Midnight"
      }else {
        time =" At "+time;
      }
      document.getElementById("sContent").innerHTML=thisEvent.attributes.title+time;

      $("#smallInfoScreen").show();
    }
    else {
      $("#smallInfoScreen").hide();
    }


  },function (){
     $("#smallInfoScreen").hide();
     //$(".calendar  td").css("filter","blur(0px)");//.filter(e.target).css("filter","blur(0px)");
  }

  );


}
///...........
 calendar.initYearView();
 calendar.initMonthView();
 calendar.initDayView();
//console.log(calendar.getEventsAvailableIn(2017,1,5));

function getDifferenceInDate(a,b,what){
  var oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds
  var oneWeek = 7*oneDay;
  var oneMonth=oneWeek*4;
  var oneHour=60*60*1000;
  var oneMin=60*1000;
  var oneSecond=1000;
  var inWhat=oneDay;
  if(what==="hour"){
    inWhat=oneHour;
  }
  else if(what==="minutes" || what==="minute"){
    inWhat=oneMin;
  }
  else if(what==="second" || what==="seconds"){
    inWhat=oneSecond;
  }
  else if(what==="milliseconds" || what==="millisecond"){
    inWhat=1;
  }
  else if(what==="day" || what==="days"){
    inWhat=oneDay;
  }
  else if(what==="week" || what==="weeks"){
    inWhat=oneWeek;
  }
  else if(what==="month" || what==="months"){
    inWhat=oneMonth;
  }
  if(a==="today" || !a){
    a = new Date();
  }
  if(b==="today" || !b){
    b = new Date();
  }
var firstDate = a;//new Date(2017,2,19,11,30);
var secondDate = b;//new Date(2017,2,20,10,30);

var diffDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime())/(inWhat)));
// if(firstDate.getTime()>secondDate.getTime()){
//   alert("-");
// }
var dif=(secondDate.getTime()-firstDate.getTime())/(inWhat);
// console.log(diffDays);
// console.log(dif);
return dif;
}
calendar.addListener("alertListener" ,function(theEvent){
  var w=$(window).width()/4;
  $(".alertPanel").show();
  $(".alertPanel").css({"left":w});
  if($("#message").children().length!==0){
  //  console.log($("#message").children()[0].attributes.value.value);
    for(var i=0; i<$("#message").children().length; i++){
      if(parseInt($("#message").children()[i].attributes.value.value) === theEvent.id){

        var elt =$($("#message").children()[i]);
        if($(elt).css("animation-name")==="none"){
          $(elt).css({"animation-name":"alert","animation-duration":"2s","animation-iteration-count":"infinite"});
        }

        return;
      }
    }
    //........
    $("#message").append("<div class='anAlert'value="+theEvent.id+">"+theEvent.attributes.title+"<div class='anAlarmButton' value="+theEvent.id+">OK</div> </div>")
    $(".anAlarmButton").click(function(e){
      if(e.target.className==="anAlarmButton"){
        calendar.desactivateAnEvent(e.target.attributes.value.value);
        $(e.target).parents()[0].remove();
        if($("#message").children().length<=0){
          $(".alertPanel").hide();
          $(".tableMonth").css("filter","none");
          $(".calendar").css("filter","none");
          $(".aDay").css("filter","none");
        }
      }
    });

  }else {
    $("#message").append("<div class='anAlert'value="+theEvent.id+">"+theEvent.attributes.title+"<div class='anAlarmButton' value="+theEvent.id+">OK</div> </div>")
    $(".anAlarmButton").click(function(e){
      if(e.target.className==="anAlarmButton"){
        calendar.desactivateAnEvent(e.target.attributes.value.value);
        $(e.target).parents()[0].remove();
        if($("#message").children().length<=0){
          $(".alertPanel").hide();
          $(".tableMonth").css("filter","none");
          $(".calendar").css("filter","none");
          $(".aDay").css("filter","none");
        }
      }
    });
  }
   $(".tableMonth").css("filter","blur(10px)");
   $(".calendar").css("filter","blur(10px)");
   $(".aDay").css("filter","blur(10px)");

});
console.log("hi");
    </script>
  </body>
</html>
